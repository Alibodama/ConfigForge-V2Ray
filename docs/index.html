<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ConfigForge</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body.rtl { direction: rtl; text-align: right; }
  .flag { width: 1.5em; height: auto; margin-right: 0.5em; vertical-align: middle; }
</style>
</head>
<body class="bg-gradient-to-r from-blue-500 to-green-400 text-white font-sans min-h-screen flex flex-col">

<!-- Header ثابت -->
<header class="bg-black bg-opacity-50 p-4 shadow-lg flex justify-between items-center">
  <h1 class="text-2xl font-bold tracking-wide">ConfigForge</h1>
  <select id="lang-select" class="bg-gray-900 text-white p-2 rounded-md">
    <option value="en">English</option>
    <option value="fa">فارسی</option>
    <option value="ar">العربية</option>
  </select>
</header>

<!-- Hero و انتخاب کشور -->
<section class="flex flex-col items-center justify-center flex-1 text-center p-8 space-y-4">
  <h2 id="hero-title" class="text-4xl md:text-5xl font-extrabold animate-pulse">
    Get the fastest V2Ray config for your country
  </h2>
  <p id="hero-desc" class="text-lg md:text-2xl max-w-2xl">
    Use our service to instantly get the best V2Ray config based on your country.
  </p>
  <div class="flex flex-wrap justify-center items-center space-x-2 space-y-2">
    <select id="country-select" class="bg-gray-900 text-white p-2 rounded-md min-w-[180px]">
      <!-- کشورها از JS اضافه می‌شوند -->
    </select>
    <button id="get-config" class="bg-white text-blue-600 font-bold px-6 py-3 rounded-lg shadow-lg hover:scale-105 transform transition">
      Get Config
    </button>
  </div>
</section>

<!-- جدول نمایش کانفیگ‌ها -->
<section id="results-section" class="p-4 max-w-4xl mx-auto hidden">
  <h3 class="text-2xl font-bold mb-4">Configs Available</h3>
  <table class="w-full text-left border border-gray-300 rounded-lg overflow-hidden">
    <thead class="bg-gray-900">
      <tr>
        <th class="p-2 border-b">File</th>
        <th class="p-2 border-b">Description</th>
        <th class="p-2 border-b">Download</th>
      </tr>
    </thead>
    <tbody id="results-body" class="bg-gray-800"></tbody>
  </table>
</section>

<!-- Footer -->
<footer class="bg-black bg-opacity-50 text-gray-300 p-4 text-center mt-auto">
  Made with ❤️ by <a href="https://github.com/YOUR_USERNAME" class="underline">YOUR_USERNAME</a> |
  Powered by <a href="https://github.com" class="underline">GitHub</a> + <a href="https://check-host.net" class="underline">Check-Host</a>
</footer>

<script>
  const countries = [
    "at","au","bg","br","ca","ch","cz","de","es","fi","fr","gb","hk","hu",
    "id","il","in","ir","it","jp","kr","kz","lt","md","nl","pl","pt","rs",
    "ru","se","sg","si","tr","ua","us","vn"
  ];

  const countrySelect = document.getElementById("country-select");
  countries.forEach(code => {
    const option = document.createElement("option");
    option.value = code;
    option.textContent = code.toUpperCase();
    countrySelect.appendChild(option);
  });

  const baseGitRaw = "https://raw.githubusercontent.com/ShatakVPN/ConfigForge-V2Ray/main/configs/";

  document.getElementById("get-config").addEventListener("click", () => {
    const country = countrySelect.value;
    const resultsBody = document.getElementById("results-body");
    resultsBody.innerHTML = ""; // پاک کردن نتایج قبلی

    const files = ["all.txt","light.txt","vless.txt","vmess.txt","shadowsocks.txt","trojan.txt"];
    const desc = {
      "all.txt": "All configs",
      "light.txt": "Light = fastest 30 configs",
      "vless.txt": "VLESS protocol",
      "vmess.txt": "VMess protocol",
      "shadowsocks.txt": "Shadowsocks protocol",
      "trojan.txt": "Trojan protocol"
    };

    files.forEach(file => {
      const tr = document.createElement("tr");
      tr.className = "border-b";
      tr.innerHTML = `
        <td class="p-2">${file}</td>
        <td class="p-2">${desc[file]}</td>
        <td class="p-2"><a href="${baseGitRaw}${country}/${file}" target="_blank" class="underline text-blue-300">Download</a></td>
      `;
      resultsBody.appendChild(tr);
    });

    document.getElementById("results-section").classList.remove("hidden");
  });

  // زبان پیشفرض انگلیسی
  const langSelect = document.getElementById("lang-select");
  langSelect.value = "en";
</script>
</body>
</html>
