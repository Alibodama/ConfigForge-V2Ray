<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ConfigForge VPN</title>
<style>
    /* Reset & base */
    * {margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI',sans-serif;}
    body {background: linear-gradient(135deg,#0077ff,#00ff88); color:#fff; min-height:100vh;}
    a {color:#fff; text-decoration:none;}
    /* Header */
    header {text-align:center; padding:2rem; background: rgba(0,0,0,0.2);}
    header h1 {font-size:2.5rem; letter-spacing:1px;}
    .lang-select {margin-top:1rem;}
    select {padding:.5rem 1rem; border-radius:10px; border:none; font-size:1rem;}
    /* Main */
    main {padding:2rem; max-width:1000px; margin:0 auto;}
    .section {background: rgba(0,0,0,0.25); border-radius:15px; padding:1.5rem; margin-bottom:1.5rem;}
    h2 {margin-bottom:1rem; text-align:center;}
    .country-select, .config-buttons {display:flex; flex-wrap:wrap; justify-content:center; gap:0.5rem; margin-bottom:1rem;}
    .country-select button {padding:.5rem 1rem; border-radius:10px; border:none; cursor:pointer; background: rgba(255,255,255,0.2); display:flex; align-items:center; gap:0.5rem;}
    .country-select img {width:24px; height:16px; object-fit:cover;}
    .config-buttons button {padding:.5rem 1rem; border-radius:10px; border:none; cursor:pointer; background: rgba(255,255,255,0.2); transition:0.2s; font-weight:bold;}
    .config-buttons button:hover {background: rgba(255,255,255,0.4);}
    /* Table */
    table {width:100%; border-collapse:collapse; margin-top:1rem;}
    th, td {padding:.5rem; border:1px solid rgba(255,255,255,0.3); text-align:center;}
    th {background: rgba(0,0,0,0.3);}
    /* Footer */
    footer {text-align:center; padding:1rem; background: rgba(0,0,0,0.2);}
</style>
</head>
<body>
<header>
    <h1>ConfigForge VPN</h1>
    <div class="lang-select">
        <label for="language">Language:</label>
        <select id="language"></select>
    </div>
</header>
<main>
    <div class="section">
        <h2 id="select-country-title">Select Country</h2>
        <div class="country-select" id="country-buttons"></div>
    </div>
    <div class="section">
        <h2 id="config-title">Download Config</h2>
        <div class="config-buttons" id="config-buttons"></div>
        <table id="config-table">
            <thead>
                <tr>
                    <th id="table-protocol">Protocol</th>
                    <th id="table-file">File</th>
                    <th id="table-desc">Description</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
</main>
<footer>
    Made with ❤️ by <a href="https://github.com/ShatakVPN" target="_blank">ShatakVPN</a> | Powered by <a href="https://github.com" target="_blank">GitHub</a> + <a href="https://check-host.net" target="_blank">Check-Host</a>
</footer>

<script>
const languages = [
  {code:'en', name:'English', dir:'ltr'},
  {code:'fr', name:'Français', dir:'ltr'},
  {code:'es', name:'Español', dir:'ltr'},
  {code:'de', name:'Deutsch', dir:'ltr'},
  {code:'it', name:'Italiano', dir:'ltr'},
  {code:'ru', name:'Русский', dir:'ltr'},
  {code:'zh', name:'中文', dir:'ltr'},
  {code:'ja', name:'日本語', dir:'ltr'},
  {code:'ar', name:'العربية', dir:'rtl'},
  {code:'fa', name:'فارسی', dir:'rtl'},
  {code:'pt', name:'Português', dir:'ltr'},
  {code:'hi', name:'हिन्दी', dir:'ltr'},
  {code:'ko', name:'한국어', dir:'ltr'},
  {code:'tr', name:'Türkçe', dir:'ltr'},
  {code:'id', name:'Bahasa Indonesia', dir:'ltr'}
];

const languageSelect = document.getElementById('language');
languages.forEach(lang=>{
    const opt=document.createElement('option');
    opt.value=lang.code;
    opt.textContent=lang.name;
    languageSelect.appendChild(opt);
});

// Country list
const countries = [
    {code:'us', name:'United States', flag:'https://flagcdn.com/us.svg'},
    {code:'ca', name:'Canada', flag:'https://flagcdn.com/ca.svg'},
    {code:'de', name:'Germany', flag:'https://flagcdn.com/de.svg'},
    {code:'fr', name:'France', flag:'https://flagcdn.com/fr.svg'},
    {code:'gb', name:'United Kingdom', flag:'https://flagcdn.com/gb.svg'},
    {code:'jp', name:'Japan', flag:'https://flagcdn.com/jp.svg'},
    {code:'kr', name:'South Korea', flag:'https://flagcdn.com/kr.svg'},
    {code:'au', name:'Australia', flag:'https://flagcdn.com/au.svg'},
    {code:'br', name:'Brazil', flag:'https://flagcdn.com/br.svg'},
    {code:'vn', name:'Vietnam', flag:'https://flagcdn.com/vn.svg'}
    // بقیه کشورها را طبق دایرکتوری configs اضافه کنید
];

const countryButtonsDiv = document.getElementById('country-buttons');
let selectedCountry = countries[0].code;

function renderCountries() {
    countryButtonsDiv.innerHTML='';
    countries.forEach(c=>{
        const btn=document.createElement('button');
        btn.innerHTML=`<img src="${c.flag}">${c.name}`;
        btn.onclick=()=>{ selectedCountry=c.code; renderConfigs(); };
        countryButtonsDiv.appendChild(btn);
    });
}

// Config files
const configTypes = ['all','light','vless','vmess','shadowsocks','trojan'];
const configButtonsDiv = document.getElementById('config-buttons');
let selectedConfigType = 'all';

function renderConfigButtons() {
    configButtonsDiv.innerHTML='';
    configTypes.forEach(type=>{
        const btn=document.createElement('button');
        btn.textContent=type.toUpperCase();
        btn.onclick=()=>{ selectedConfigType=type; renderConfigs(); };
        configButtonsDiv.appendChild(btn);
    });
}

function renderConfigs() {
    const tbody = document.querySelector('#config-table tbody');
    tbody.innerHTML='';
    const urlBase = 'https://raw.githubusercontent.com/ShatakVPN/ConfigForge-V2Ray/main/configs/';
    const countryDir = selectedCountry+'/';
    const type = selectedConfigType+'.txt';
    const url = urlBase + countryDir + type;
    const desc = {
        'all':'All configs available',
        'light':'Fastest 30 configs',
        'vless':'VLESS configs',
        'vmess':'VMess configs',
        'shadowsocks':'Shadowsocks configs',
        'trojan':'Trojan configs'
    };
    const tr=document.createElement('tr');
    tr.innerHTML=`<td>${selectedConfigType.toUpperCase()}</td>
                  <td><a href="${url}" target="_blank">${type}</a></td>
                  <td>${desc[selectedConfigType]}</td>`;
    tbody.appendChild(tr);
}

// Language change
languageSelect.addEventListener('change',()=>{
    const lang=languages.find(l=>l.code===languageSelect.value);
    document.documentElement.lang=lang.code;
    document.documentElement.dir=lang.dir;
    // ترجمه متون ساده
    document.getElementById('select-country-title').textContent=lang.code==='fr'?'Sélectionnez le pays':lang.code==='es'?'Seleccione el país':'Select Country';
    document.getElementById('config-title').textContent=lang.code==='fr'?'Télécharger la configuration':lang.code==='es'?'Descargar Configuración':'Download Config';
    document.getElementById('table-protocol').textContent=lang.code==='fr'?'Protocole':lang.code==='es'?'Protocolo':'Protocol';
    document.getElementById('table-file').textContent=lang.code==='fr'?'Fichier':lang.code==='es'?'Archivo':'File';
    document.getElementById('table-desc').textContent=lang.code==='fr'?'Description':lang.code==='es'?'Descripción':'Description';
});

// Auto-detect country (simple)
fetch('https://ipapi.co/json/').then(r=>r.json()).then(data=>{
    const cc=data.country_code.toLowerCase();
    if(countries.find(c=>c.code===cc)) selectedCountry=cc;
    renderCountries();
    renderConfigButtons();
    renderConfigs();
});
</script>
</body>
</html>
